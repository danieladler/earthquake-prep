<div class="container below-header">
  <h1> Emergency Preparedness Assessment </h1>
  <p> This assessment will collect information about your home, dependents
    and contacts. It will generate a custom to-do list of steps you can take
    to be more prepared in the event of an earthquake.
  </p>
  <fieldset id="home-field">
    <h2>Home</h2>
    <form action="/assessment/update_home" method="post" class="asmt-form" id="home-form">
    <p class="form-descr">
      Enter details about your home.
    </p>

      <input name="utf8" type="hidden" value="✓">
      <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>"/>

      <p>
        <label for="text_field">Street Address</label>
        <input type="text" class="text_field" name="street_address" value="<%= @home.street_address %>">
      </p>
      <p>
        <label for="text_field">City</label>
        <input type="text" class="text_field" name="city" value="<%= @home.city %>">
      </p>
      <p>
        <label for="text_field">State</label>
        <input type="text" class="text_field" name="state" value="<%= @home.state %>">
      </p>
      <p>
        <label for="text_field">Zip</label>
        <input type="text" class="text_field" name="zip" value="<%= @home.zip %>">
      </p>

      <p>
        <label for="home_type">House or Apartment?</label>
        <label>
          <input type="radio" class="radio" name="home_type" value="house">
          House
        </label>

      </p>
      <p>
        <label>
          <input type="radio" class="radio" name="home_type" value="apartment">
          Apartment
        </label>
      </p>

      <p>
        <label for="floor_dropdown">Number of Floors (including basement):</label>
        <select name="floor_count" value="<%= @home.structure["floors"] %>">
          <option value="1" selected="<%='selected' if @home.structure["floors"] == 1 %>">1</option>
          <option value="2" selected="<%='selected' if @home.structure["floors"] == 2 %>">2</option>
          <option value="3" selected="<%='selected' if @home.structure["floors"] == 3 %>">3</option>
          <option value="4" selected="<%='selected' if @home.structure["floors"] == 4 %>">4</option>
        </select>
      </p>

      <p>
        <label for="year_built">Year Built</label>
        <input type="text" class="text_field" name="year_built" value="<%= @home.structure["year_built"] %>">
      </p>

      <input type="submit" value="Save Home">
      <div class="success-message">Home Details Updated</div>
    </form>
  </fieldset>

  <fieldset id="dependent-field">
    <h2>Dependents</h2>
    <p class="form-descr">
      Add a record for each member of your household for whom you will be
      responsible during an emergency (including spouse/partner). Pets are
      also considered dependents and can be added with the 'Add Pet' button.
    </p>
    <ul id="dependent-list">
      <% current_user.dependents.each do |d| %>
        <li>Name: <%= d.name %></li>
      <% end %>
    </ul>
    <form action="/assessment/add_dependent" method="post" class="asmt-form" id="dependent-form">
      <input name="utf8" type="hidden" value="✓">
      <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>"/>
      <p>
        <label for="text_field">Name</label>
        <input type="text" class="text_field" name="dep_name">
      </p>
      <p>
        <label for="text_field">Age</label>
        <input type="text" class="text_field" name="dep_age">
      </p>
      <input type="submit" value="Add and Save Dependent">
    </form>
  </fieldset>

  <fieldset id="contact-field">
    <h2>Contacts</h2>
    <p class="form-descr">
      Ask a friend or relative who lives outside the state and explain to
      them that after a disaster they will be your means of communicating with
      other family members, both in and out of state. Make sure they understand
      it will be their responsibility to be available to take calls immediately
      following a disater in your area
    </p>
    <form action="/assessment/update_contacts" method="post" class="asmt-form" id="contact-form">
      <input name="utf8" type="hidden" value="✓">
      <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>"/>

      <div class="contact-block">
        <p>
          <label for="text_field">Name</label>
          <input type="text" class="text_field" name="con_name">
        </p>
        <p>
          <label for="text_field">Phone</label>
          <input type="text" class="text_field" name="con_phone">
        </p>
        <p>
          <label for="text_field">email</label>
          <input type="text" class="text_field" name="con_email">
        </p>
        <p>
          <label for="text_field">location</label>
          <input type="text" class="text_field" name="con_loc">
        </p>
      </div>

      <button class="add-dep-btn">Add Contact</button>
      <br>
      <input type="submit" value="Save Contacts">
    </form>
  </fieldset>
</div>
